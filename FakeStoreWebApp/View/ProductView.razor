@page "/products/{Nuevo}"
@page "/products/{Id:int}"
@inject ProductViewModel ViewModel

<CommandBarCat IsBusy="ViewModel.IsBusy" OnSave="ViewModel.SaveAsync" OnUndo="ViewModel.UndoAsync"></CommandBarCat>
<ProductForm ViewModel="ViewModel"></ProductForm>

@code {
    [Parameter]
    public int Id { get; set; }

    [Parameter]
    public string Nuevo { get; set; }

    protected override async Task OnInitializedAsync()
    {
        ViewModel.StateHasChanged = StateHasChanged;
        ViewModel.EntidadId = Id;
        await ViewModel.InicializarAsync();
        await base.OnInitializedAsync();
    }
}
